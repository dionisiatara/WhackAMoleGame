(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(71),c=a.n(o),s=(a(77),a(27)),l=a(3),i=a(4),u=a(6),h=a(5),m=a(7),p=a(20),d=(a(78),a(54)),v=a.n(d);v.a.initializeApp({apiKey:"AIzaSyDXJdzMY0KryGeyLzKU2IviS09dfXLsczQ",authDomain:"whack-a-mole-reactjs.firebaseapp.com",databaseURL:"https://whack-a-mole-reactjs.firebaseio.com",projectId:"whack-a-mole-reactjs",storageBucket:"whack-a-mole-reactjs.appspot.com",messagingSenderId:"394560249481"});var f=v.a,b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getHighestScore=function(){f.firestore().collection("Players").doc(a.props.playerName).get().then(function(e){e.exists&&a.setState({highScore:e.data().highScore})})},a.updateHighestScore=function(){var e=a.props.finalScore,t=f.firestore();t.collection("Players").doc(a.props.playerName).get().then(function(n){n.exists&&(e>n.data().highScore&&t.collection("Players").doc(a.props.playerName).update({highScore:e}),a.getHighestScore())})},a.getLeaderBoard=function(){var e=f.firestore(),t=a.state.list;e.collection("Players").orderBy("highScore","desc").limit(5).get().then(function(e){e.forEach(function(e){t.push(e.data().playerName+" "+e.data().highScore)}),a.setState({list:t})})},a.state={highScore:0,list:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-over"},r.a.createElement("h2",null,"Game Over!"),r.a.createElement("h3",null,"Your final score: ",this.props.finalScore),r.a.createElement("h3",null,"Your highest score: ",this.state.highScore),r.a.createElement("h2",null,"Leaderboard (Top 5)"),r.a.createElement("div",{className:"score-board"},r.a.createElement("ul",null,this.state.list.map(function(e,t){return r.a.createElement("li",{key:t}," ",r.a.createElement("h4",null,e)," ")}))))}},{key:"componentDidMount",value:function(){this.updateHighestScore(),this.getHighestScore(),this.getLeaderBoard()}}]),t}(r.a.Component),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).moleIsWhacked=function(){a.props.onClick(a.props.holeNumber)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"game-hole-area"},r.a.createElement("div",{className:"game-mole",style:{WebkitTransform:this.props.context[this.props.holeNumber]},onClick:this.moleIsWhacked}),r.a.createElement("div",{className:"hole-location"}))}}]),t}(r.a.Component),E={GAME_LEVEL_EASY:1e3,GAME_LEVEL_HARD:600,GAME_TIMER:30,NUMBER_OF_HOLES:5,TIMER_INTERVAL:1e3,TIMER_TIMEOUT:1e3},y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getLevelEasy=function(e){a.props.callBackFromLevelButton(E.GAME_LEVEL_EASY)},a.getLevelHard=function(e){a.props.callBackFromLevelButton(E.GAME_LEVEL_HARD)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"level-button",type:"button",onClick:this.getLevelEasy},"EASY"),r.a.createElement("button",{className:"level-button",type:"button",onClick:this.getLevelHard},"HARD"))}}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.state.playerName?a.props.onSubmit():a.setState({error:"Please enter your name."})},a.onInput=function(e){a.setState({playerName:e.target.value}),a.props.callBackFromLogin(e.target.value)},a.state={playerName:"",error:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;return this.state.error&&(e=this.state.error),r.a.createElement("div",{className:"game-login"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",name:"playerName",placeholder:"Player's name",onChange:this.onInput,value:this.state.playerName}),r.a.createElement("button",{className:"login-button",type:"submit"},"Login")),r.a.createElement("h5",{className:"error-message"},e))}}]),t}(r.a.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"play-again-button",type:"button",onClick:this.props.callBackFromPlayAgainButton},"Play again?")}}]),t}(r.a.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Score: ",this.props.score))}}]),t}(r.a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"game-start-button",type:"button",onClick:this.props.callBackFromStartButton},"Start Game")}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={seconds:0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.seconds;return r.a.createElement("div",null,r.a.createElement("h3",null,"Time Left: ",e))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.startCount;this.setState({seconds:t}),this.myTimeOut=setTimeout(function(){e.myInterval=setInterval(function(){e.setState({seconds:e.state.seconds-1},function(){this.props.callBackFromTimer(this.state.seconds)})},E.TIMER_INTERVAL)},E.TIMER_TIMEOUT)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval),clearTimeout(this.myTimeOut)}}]),t}(r.a.Component),M=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e,a))).loginCallBack=function(e){n.setState({playerName:e})},n.startButtonCallBack=function(){n.setState({startButtonIsClicked:!0},function(){this.startGame()})},n.levelCallBack=function(e){n.setState({levelIsPicked:!0,levelPicked:e})},n.timerCallBack=function(e){n.setState({timer:e})},n.playAgainCallBack=function(){n.setState({hasLoggedIn:!0,gameHasStarted:!1,gameHasEnded:!1,startButtonIsClicked:!0,currentScore:0,timer:E.GAME_TIMER},function(){this.startGame()})},n.state={playerName:"",score:0,currentScore:0,hasLoggedIn:!1,startButtonIsClicked:!1,gameHasStarted:!1,gameHasEnded:!1,levelIsPicked:!1,levelPicked:0,activeMole:0,lastMole:0,timer:E.GAME_TIMER,holesTotal:E.NUMBER_OF_HOLES,1:"translate(0, 60%)",2:"translate(0, 60%)",3:"translate(0, 60%)",4:"translate(0, 60%)",5:"translate(0, 60%)"},n.getPlayer=n.getPlayer.bind(Object(p.a)(Object(p.a)(n))),n.whackMole=n.whackMole.bind(Object(p.a)(Object(p.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getPlayer",value:function(){var e=f.firestore(),t=this.state.playerName;e.collection("Players").doc(t).get().then(function(a){a.exists||e.collection("Players").doc(t).set({playerName:t,highScore:0}).then(function(){}).catch(function(e){console.error("Error writing document: ",e)})}).catch(function(e){}),this.setState({hasLoggedIn:!0})}},{key:"createHoles",value:function(){for(var e=[],t=1;t<=this.state.holesTotal;t++){var a=r.a.createElement(g,{context:this.state,holeNumber:t,key:t,onClick:this.whackMole});e.push(a)}return r.a.createElement("div",{className:"game-board"},e)}},{key:"startGame",value:function(){var e=this;if(!this.state.gameHasStarted){this.setState({gameHasStarted:!0,score:0});var t=setInterval(function(){e.showMoles(),0===e.state.timer&&(window.clearInterval(t),e.clearMoles(),e.setState({gameHasStarted:!1,gameHasEnded:!0,activeMole:0}))},this.state.levelPicked)}}},{key:"showMoles",value:function(){var e;this.clearMoles();var t=Math.floor(Math.random()*this.state.holesTotal)+1;this.state.lastMole!==t?this.setState((e={},Object(s.a)(e,t,"translate(0, 5%)"),Object(s.a)(e,"lastMole",t),Object(s.a)(e,"activeMole",t),e)):this.showMoles()}},{key:"clearMoles",value:function(){for(var e=1;e<=this.state.holesTotal;e++)this.setState(Object(s.a)({},e,"translate(0, 60%)"))}},{key:"whackMole",value:function(e){e===this.state.activeMole&&this.setState({currentScore:this.state.currentScore+1})}},{key:"render",value:function(){var e,t,a,n,o,c,s,l,i=this.state.hasLoggedIn,u=this.state.gameHasStarted,h=this.state.gameHasEnded,m=this.state.levelIsPicked,p=this.state.score;return i&&!h?m?u?(a=r.a.createElement(B,{context:this,callBackFromTimer:this.timerCallBack,startCount:this.state.timer}),n=this.createHoles(),o=r.a.createElement(O,{context:this,score:this.state.currentScore})):(e=r.a.createElement(j,{context:this,callBackFromStartButton:this.startButtonCallBack}),t=r.a.createElement("h2",{className:"welcome-message"},"Welcome, ",this.state.playerName,"!")):l=r.a.createElement(y,{context:this,callBackFromLevelButton:this.levelCallBack}):h?(c=r.a.createElement(b,{context:this,finalScore:this.state.currentScore,playerName:this.state.playerName,highScore:p}),s=r.a.createElement(S,{context:this,callBackFromPlayAgainButton:this.playAgainCallBack})):e=r.a.createElement(k,{onSubmit:this.getPlayer,context:this,callBackFromLogin:this.loginCallBack}),r.a.createElement("div",{className:"main-area"},r.a.createElement("div",{className:"game"},r.a.createElement("h1",{className:"game-title"},"Whack a Mole!"),t," ",l," ",e," ",a,n," ",o,c,s))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,a){e.exports=a(158)},77:function(e,t,a){},78:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.6d278243.chunk.js.map